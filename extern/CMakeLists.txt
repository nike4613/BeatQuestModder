set(CAPSTONE_ARCHITECTURE_DEFAULT OFF CACHE BOOL "Disable Capstone Arches" FORCE)
set(CAPSTONE_ARM_SUPPORT ON CACHE BOOL "Enable Capstone ARM support" FORCE)
set(CAPSTONE_BUILD_STATIC_RUNTIME OFF CACHE BOOL "Disable Capstone static runtime build" FORCE)
set(CAPSTONE_BUILD_SHARED OFF CACHE BOOL "Disable Capstone shared build" FORCE)

add_subdirectory("capstone" EXCLUDE_FROM_ALL)

set(CAPSTONE_INCLUDE_DIR "${CMAKE_CURRENT_LIST_DIR}/capstone/include" PARENT_SCOPE)


# LLVM
set(LLVM_ENABLE_PROJECTS "clang;lld;libcxx;libclc" CACHE STRING "enabled llvm projects" FORCE)
set(LLVM_TARGETS_TO_BUILD "ARM" CACHE STRING "backend targets" FORCE)
set(LLVM_ENABLE_MODULES ON CACHE BOOL "c++ modules" FORCE)
set(LLVM_ENABLE_LLD ON CACHE BOOL "lld" FORCE)
set(LLVM_BUILD_LLVM_DYLIB OFF CACHE BOOL "dynlib" FORCE)
set(LLVM_BUILD_LLVM_C_DYLIB OFF CACHE BOOL "dynlib" FORCE)
set(LIBCLANG_BUILD_STATIC ON CACHE BOOL "libclang static" FORCE)

add_subdirectory("llvm/llvm" EXCLUDE_FROM_ALL)

set(LLVM_INCLUDE_DIR "${CMAKE_CURRENT_LIST_DIR}/llvm/llvm/include" PARENT_SCOPE) 
set(LLVM_INCLUDE_DIR_CONF "${CMAKE_CURRENT_BINARY_DIR}/llvm/llvm/include" PARENT_SCOPE) 
set(CMAKE_MODULE_PATH "${CMAKE_MODULE_PATH};${CMAKE_CURRENT_LIST_DIR}/llvm/llvm/cmake/modules" PARENT_SCOPE)